metrics:
  counters:
    - name: cgroup_rstat_flush_total
      help: Total number of times cgroup rstat were flushed (recorded per level)
      labels:
        - name: level
          size: 4
          decoders:
            - name: uint
    - name: cgroup_rstat_locked_total
      help: Times rstat lock was obtainted with state for cgroup level, contended and yield
      labels:
        - name: contended
          size: 1
          decoders: # contended boolean converted to 0 and 1
            - name: uint
        - name: yield
          size: 1
          decoders: # was this a yielded lock case
            - name: uint
        - name: level
          size: 2
          decoders:
            - name: uint
  histograms:
    - name: cgroup_rstat_lock_wait_seconds
      help: Latency histogram for lock contention associated wait time to obtain lock
      bucket_type: exp2
      bucket_min: 0
      bucket_max: 21
      bucket_multiplier: 0.000001 # microseconds to seconds
      labels:
        - name: bucket
          size: 4
          decoders:
            - name: uint
